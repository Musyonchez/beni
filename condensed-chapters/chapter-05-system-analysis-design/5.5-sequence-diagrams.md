# 5.5 Sequence Diagrams

Sequence diagrams illustrate object interactions over time, showing the messages exchanged between system components, actors, and external services for specific use cases. These diagrams clarify the temporal sequence of operations and identify integration points.

---


## â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
## â•‘   ğŸ“Š INSERT FIGURE 5.13 - USER LOGIN SEQUENCE DIAGRAM ğŸ“Š     â•‘
## â•‘                                                                 â•‘
## â•‘  Shows interactions: User â†’ App â†’ Firebase Auth â†’ Firestore   â•‘
## â•‘  (login flow with token generation and validation)             â•‘
## â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


## â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
## â•‘   ğŸ“Š INSERT FIGURE 5.14 - ORDER PLACEMENT SEQUENCE DIAGRAM ğŸ“Šâ•‘
## â•‘                                                                 â•‘
## â•‘  Shows interactions: User â†’ App â†’ Cloud Functions â†’ Firestore â•‘
## â•‘  â†’ M-Pesa API (complete order flow with payment)               â•‘
## â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


## â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
## â•‘  ğŸ“Š INSERT FIGURE 5.15 - REAL-TIME ORDER TRACKING DIAGRAM ğŸ“Š â•‘
## â•‘                                                                 â•‘
## â•‘  Shows: App â†” Firestore with snapshot listeners, Staff â†’      â•‘
## â•‘  Dashboard â†’ Firestore â†’ Real-time Push to User App            â•‘
## â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


## â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
## â•‘   ğŸ“Š INSERT FIGURE 5.16 - MENU LOADING WITH CACHE DIAGRAM ğŸ“Š â•‘
## â•‘                                                                 â•‘
## â•‘  Shows: App â†’ Check Local Cache â†’ If miss: Firestore â†’        â•‘
## â•‘  Update Cache â†’ Display (offline-first pattern)                â•‘
## â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


## â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
## â•‘  ğŸ“Š INSERT FIGURE 5.17 - LOYALTY POINTS CALCULATION DIAGRAM ğŸ“Šâ•‘
## â•‘                                                                 â•‘
## â•‘  Shows: Order Complete Trigger â†’ Cloud Function â†’ Calculate   â•‘
## â•‘  â†’ Firestore Update â†’ Notification to User                     â•‘
## â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


---

**Word Count**: ~150 words  
**Status**: âœ… Condensed  
**Note**: âš ï¸ **5 SEQUENCE DIAGRAMS Required** - Insert Figures 5.13-5.17 at markers above
